# Server
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# Database (Docker Compose default)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/anamnese

# JWT
JWT_SECRET=your-super-secret-key-min-32-chars-change-in-prod

# Rate limits (requests per minute)
RATE_LIMIT_GLOBAL=60
RATE_LIMIT_AUTH=10
RATE_LIMIT_TEMPLATES=30
RATE_LIMIT_SESSIONS=30
RATE_LIMIT_AI=10

# Body / timeouts
BODY_LIMIT=1048576
REQUEST_TIMEOUT=30000

# AI mode: ruleBased | llmMock | llm
AI_MODE=ruleBased

# LLM Configuration (required when AI_MODE=llm)
# AI_PROVIDER=openai          # or 'anthropic' (required when AI_MODE=llm)
# AI_API_KEY=sk-...           # OpenAI: sk-... | Anthropic: sk-ant-... (required when AI_MODE=llm)
# AI_MODEL=gpt-4o            # Optional model override. Defaults: gpt-4o (OpenAI), claude-sonnet-4-5 (Anthropic)
#
# Fallback Provider (optional - used if primary provider fails)
# AI_FALLBACK_PROVIDER=anthropic
# AI_FALLBACK_API_KEY=sk-ant-...
# AI_FALLBACK_MODEL=claude-sonnet-4-5
#
# Redis Cache (optional - improves performance for insight caching)
# REDIS_URL=redis://localhost:6379
#
# See docs/AI_LLM_SETUP.md for detailed configuration guide

# CORS: em produção use origens reais (nunca '*'). Desenvolvimento pode usar '*' ou lista.
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://app.seudominio.com

# Billing (Stripe) – opcional; quando preenchido, rotas /v1/billing/* são ativadas
# FRONTEND_URL usado em redirects do Checkout e Customer Portal
# FRONTEND_URL=http://localhost:5173
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PRICE_ID=price_...          # ID do preço mensal no Stripe Dashboard
# STRIPE_PRICE_ID_ANNUAL=price_...   # ID do preço anual (opcional; se não definir, só plano mensal aparece)
# STRIPE_WEBHOOK_SECRET=whsec_...   # Webhook "customer.subscription.*" e "invoice.*"
